# Start and End date, inclusive, will be output
# in the boundary condition file using the time
# increment descibed by time_incr.
#
# start_date and end_date in the form YYYY-MM-DD HH:MM:SS
# time_incr in the form val units (units must be plural, e.g., hours, seconds)
start_date: '2006-08-01 00:00:00'
end_date:   '2006-08-01 23:00:00'
time_incr: 1 hours

# Output files are stored in files matching
# the out_template
out_template: ['geos2cmaq.bcon.%Y%m%d.nc', simpledate]

# Do not over-write (clobber) outputs
no_clobber: False

# Aerosol surface area and number concentration
# can be updated to be consistent with concentrations
repair_aero: True

# Files used by pygeos2cmaq will be found based on the patterns
# below after converting current date using a function and
# then the file will be read using an interpreter.
#
# [interpreter, pathtemplate, function]
# - interpreter is a file reading function (e.g., NetCDFFile, ioapi, bpch, cspec)
# - pathtemplate will be processed by a strftime like function to create a path
# - function is a function that uses strftime and the current date to process the path template
file_templates:
  - [bpch, 'BC.TEST.%Y%m%d', simpledate]
  - [METBDY3D, 'METBDY3D_Benchmark_TP', simpledate]
  - [bcon_profile, 'bc_profile_CB05.dat', simpledate]


# GEOS-Chem species will automatically convert from
#    ppbC to ppbv
#    ppbv to micrograms/mol
#    ppbC to micrograms/mol
#
# Some non-automatic, but default unit conversions
# are supplied below
# 
# Each unit conversion has a key and an expression
# - key tells the from and to unit (from->to)
# - expression will be evaluated with <value> replaced
#   with the variable value
unitconversions:
    ppbv->ppmV: <value>/1000.
    micrograms/mol->micrograms/m**3: <value> * AIRMOLPERM3
    kg/mol*ppbv->micrograms/m**3: <value> * AIRMOLPERM3
    molec/cm3->ppmV: <value> * CM3PERMMOLEC
    metadefs:
       AIRMOLPERM3: PRES / (8.314 * TA)
       CM3PERMMOLEC: ( 1.0E+12 * 8.314 / 6.022E+23 ) * TA / PRES
#        AIRMOLPERM3: 1e6 * AIRDEN / 6.022E+23
#        CM3PMNMOLEC: 1e6 /  AIRDEN
# When AIRDEN is unavailable, use PRES and TA from METBDY
# requires hourly PRES and TA
#       AIRMOLPERM3: PRES / (8.314 * TA)
#       CM3PERMMOLEC: ( 1.0E+12 * 8.314 / 6.022E+23 ) * TA / PRES

# Mappings provide algebraic processing of GEOS-Chem
# variables to make CMAQ variables, with unit processing
# as described above.
#  - ['SOURCE', 'MECHSPC', 'GEOS_EXPRESSION', 'OUTUNIT']
mappings:
  - ['METBDY3D', 'PRES', 'PRES', 'Pa']
  - ['METBDY3D', 'TA', 'TA', 'K']
  - ['IJ-AVG-$', 'O3', 'Ox - NOx', 'ppmV']
  - ['IJ-AVG-$', 'PAR', '4. * ALK4', 'ppmV']
  - ['IJ-AVG-$', 'ASO4K', '0.0776 * SALC', 'micrograms/m**3']
  - ['IJ-AVG-$', 'ASO4K', '0.02655 * DST2', 'micrograms/m**3']
  - ['PROFILE', 'FACD', 'FACD', 'ppmV']

interpolation:
    extrapolate: True
    log: False
    calcgeospress: False